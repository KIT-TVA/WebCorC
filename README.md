# WebCorC

Webbased Editor for CbC to replace the Eclipse based [CorC](https://github.com/KIT-TVA/CorC).

A public demo instance is available at https://corc.informatik.kit.edu/

Cbc is an approach to create correct programs incrementally.
Guided by pre-/postcondition specifications, a program is developed using refinement rules, guaranteeing the implementation is correct.
With [CorC](https://github.com/KIT-TVA/CorC/wiki) we implemented a graphical and textual IDE to create programs following the CbC approach. Starting with an abstract specification, CorC supports CbC developers in refining a program by a sequence of refinement steps and in verifying the correctness of these refinement steps using a deductive verifier.

Learn more information around CorC and the underlying concepts in the [wiki](https://github.com/KIT-TVA/CorC/wiki).

---
## Backend development

The backend is a REST API developed in Micronaut.
To run the project from cli ensure you have a JDK 21 installed and run:

```bash
./mvnw mn:run
```

The backend exposes an autogenerated swagger-ui accessible from `http://backend-server:port/swagger-ui`

----
## Frontend development

The frontend is a SPA developed in Angular 19 with Angular Material as the component framework.
For the development dependencies use the devcontainers.json or install the project dependencies with

from root of the project run
```bash
cd ./frontend/
```
```bash
npm install
```

For running the development server and linting use the angular cli.
Install the angular cli via npm:
```bash
npm install -g @angular/cli@19
```

And use the serve command in the angular cli to run the development server:
```bash
ng serve
```

- https://angular.dev/
- https://angular.dev/tools/cli
- https://material.angular.io/


## Note (Windows only)
To use `ng serve`, add the following to the list of environtment variables in `Path`.
Make sure to adjust `USER_NAME`

```bash
C:\Users\USER_NAME\AppData\Roaming\npm\node_modules\@angular\cli\bin
```
```bash
C:\Users\USER_NAME\AppData\Roaming\npm\
```

## Docker

This repository contains Dockerfiles for the backend and frontend. The Dockerfiles prefixed with `dev.` are for development purposes.

Hot reloading is supported both in the frontend and backend via the [Compose Watch](https://docs.docker.com/compose/how-tos/file-watch/) feature. Press `w` after starting to enable it.

To run the stack in development:

```bash
docker compose -f docker-compose.dev.yml up --build
```

## Production:

Clone this repository for example into /opt/WebCorC:

```bash
git clone https://github.com/KIT-TVA/WebCorC.git /opt/WebCorC
```

Change the default values in the `docker-compose.env` file. The backend will refuse to start with default passwords!

The production docker compose file uses a caddy webserver for easy deployment with automatic https. Edit `data/caddy/caddyfile/Caddyfile` and make sure the domain name in the first line matches that of your server.

```bash
docker compose up -d --build
```

All data (project metadata, project files, access logs) will be written to the `data/` folder.

## üõ†Ô∏è Setup Issues

Having trouble setting up the project? [Open an issue](https://github.com/KIT-TVA/WebCorC/issues) and we'll help you out.
