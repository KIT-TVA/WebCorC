services:
  minio:
    image: quay.io/minio/minio
    command: 
      - 'server'
      - '/data'
      - '--console-address'
      - ':9001'
    env_file:
      - docker-compose.env

  mongo:
    image: mongo

  webcorc-backend:
    build:
      context: backend
    env_file:
      - docker-compose.env
    ports:
      - "80:8080"
    depends_on:
      minio:
        condition: service_started
      mongo:
        condition: service_started

  webcorc-frontend:
    build:
      context: frontend
    ports:
      - "8080:80"
