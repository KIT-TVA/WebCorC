<div style="width: 80rem; max-width: 96vw">
  <p-fieldset legend="Appearance">
    <ul>
      <li style="display: flex; align-content: center; gap: 2rem">
        <span> Dark Mode </span>
        <span>
          <p-toggle-switch
            size="large"
            [ngModel]="isDarkModeEnabled()"
            (onChange)="switchTheme()"
          >
            <ng-template #handle let-checked="checked">
              <i
                style="font-size: 0.5rem"
                [class]="['pi', checked ? 'pi-moon' : 'pi-sun']"
              ></i>
            </ng-template>
          </p-toggle-switch>
        </span>
      </li>
      <li style="display: flex; align-content: center; gap: 2rem">
        <span> Conditions always open </span>
        <span>
          <p-toggle-switch
            size="large"
            [(ngModel)]="globalSettingsService.conditionsAlwaysOpen"
          >
          </p-toggle-switch>
        </span>
      </li>
      <li style="display: flex; align-content: center; gap: 2rem">
        <span> Minimap in editor </span>
        <span>
          <p-toggle-switch
            size="large"
            [(ngModel)]="globalSettingsService.showMiniMap"
          >
          </p-toggle-switch>
        </span>
      </li>
    </ul>
  </p-fieldset>

  <p-fieldset legend="Syncronization">
    <ul>
      <li style="display: flex; align-content: center; gap: 2rem">
        <span>Autosave</span>
        <span>
          <p-toggle-switch
            size="large"
            [(ngModel)]="globalSettingsService.autosave"
          >
          </p-toggle-switch>
        </span>
      </li></ul
  ></p-fieldset>
  <p-fieldset legend="Debugging">
    <ul>
      <li>
        <p-button (click)="resetProjectId()" severity="danger"
          >Reset project id</p-button
        >
      </li>
      <li>
        Project id: {{ projectService.projectId }} -- Project name:
        {{ projectService.projectName }} -- Should Create Project:
        {{ projectService.shouldCreateProject }}
      </li>
      <li>
        <p-button (click)="dumpProjectService()" severity="secondary">
          Dump Project Service
        </p-button>
      </li>
      <li>
        <p-button (click)="dumpTreeService()" severity="secondary">
          Dump Tree Service
        </p-button>
      </li>
    </ul>
  </p-fieldset>
</div>
<div
  style="
    width: 100%;
    display: flex;
    justify-content: end;
    gap: 1rem;
    padding-top: 1em;
  "
>
  <p-button (click)="ref.close()">Done</p-button>
</div>
<p-dialog
  header="json dump"
  [modal]="true"
  [(visible)]="dialogVisible"
  [style]="{ width: '50rem' }"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
>
  <pre [innerHTML]="dialogContent"></pre>
</p-dialog>
