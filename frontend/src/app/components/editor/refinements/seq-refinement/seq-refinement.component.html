<refinement-base [refinement]="this">
  <refinement-widget  *ngIf="!leftHandRefinement"
                      text="Left"
                      icon="add"
                      (click)="chooseRefinement('left')">
  </refinement-widget>
  <refinement-link  *ngIf="leftHandElementRef && leftHandRefinement"
                    [linkedRefinement]="leftHandElementRef"
                    [onSubRefinementDragMove]="leftHandRefinement.onDragMoveEmitter"
                    [onSubRefinementDragEnd]="leftHandRefinement.onDragEndEmitter"
                    [onOriginRefinementDragMove]="onDragMoveEmitter"
                    [onOriginRefinementDragEnd]="onDragEndEmitter"
                    [scrollNotifier]="leftHandRefinement.getScrollNotifier()"
                    [style.margin-top]="'auto'"></refinement-link>

  <!--<add-refinement-widget  *ngIf="!leftHandRefinement"
                          (onRefinementSelected)="addSubRefinement('left', $event)"
                          text="Left">
  </add-refinement-widget>-->

  <condition-editor [condition]="intermediateCondition"></condition-editor>

  <refinement-widget  *ngIf="!rightHandRefinement"
                      text="Right"
                      icon="add"
                      (click)="chooseRefinement('right')">
  </refinement-widget>
  <refinement-link  *ngIf="rightHandElementRef && rightHandRefinement"
                    [linkedRefinement]="rightHandElementRef"
                    [onSubRefinementDragMove]="rightHandRefinement.onDragMoveEmitter"
                    [onSubRefinementDragEnd]="rightHandRefinement.onDragEndEmitter"
                    [onOriginRefinementDragMove]="onDragMoveEmitter"
                    [onOriginRefinementDragEnd]="onDragEndEmitter"
                    [scrollNotifier]="rightHandRefinement.getScrollNotifier()"
                    [style.margin-top]="'auto'"></refinement-link>

  <!--<add-refinement-widget  *ngIf="!rightHandRefinement"
                          (onRefinementSelected)="addSubRefinement('right', $event)"
                          text="Right">
  </add-refinement-widget>-->
</refinement-base>

<div style="height: 30px; width: 100%"></div>
<ng-template #subComponentSpawn></ng-template>
