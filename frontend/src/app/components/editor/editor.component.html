<div class="sideMenu">
  <mat-accordion multi="">
    <mat-expansion-panel>
      <mat-expansion-panel-header expanded="true">
        <mat-panel-title>
          Global Conditions
        </mat-panel-title>
      </mat-expansion-panel-header>
      <app-global-conditions></app-global-conditions>
    </mat-expansion-panel>
    <mat-expansion-panel expanded="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Java Variables 
        </mat-panel-title>
      </mat-expansion-panel-header>
      <app-variables></app-variables>
    </mat-expansion-panel>
  </mat-accordion>
</div>

<div *ngIf="!rootNode"
     style="display: flex; align-items: center; vertical-align: center; justify-content: center">
  <add-refinement-widget (onRefinementSelected)="addRootRefinement($event)"
                         text="Add root refinement"></add-refinement-widget>

  <refinement-widget text="Load example program" icon="class" [matMenuTriggerFor]="menu"></refinement-widget>
  <mat-menu #menu="matMenu">
    <button mat-menu-item (click)="loadExample('cointoss')">Coin toss</button>
    <button mat-menu-item (click)="loadExample('tosstillzero')">Toss till 0</button>
    <button mat-menu-item (click)="loadExample('teleportation')">Teleportation</button>
    <button mat-menu-item (click)="loadExample('ECNOTalgorithm')">E-CNOT Algorithm</button>
  </mat-menu>
</div>

<div *ngIf="rootNode" id="editorContainer" (scroll)="onEditorContainerScrolled()">
  <!-- Control elements for the scrollWidth and scrollHeight of the editor container -->
  <div id="editorWidthController"></div>
  <div id="editorHeightController"></div>

  <!-- Render container for the trees root -->
  <ng-container *ngComponentOutlet="rootNode"></ng-container>

  <!-- Spawn for examples -->
  <ng-template #examplesSpawn></ng-template>

  <!-- Anchor element to draw lines between refinement boxes.
   Since dragging transforms refinement boxes, the line DOMs must be placed outside the refinement boxes. -->
  <div id="lineSpawn"></div>
</div>
