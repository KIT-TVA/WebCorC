<div style="width: 100%; height: 100%; display: flex; flex-direction: column; align-items: stretch; justify-items: stretch">
  <div
    style="
      display: flex;
      flex: auto;
      justify-items: stretch;
      align-items: stretch;
    "
  >
    <div id="editorContainer" #editorContainer>
      <!-- Render container for the trees root -->
      <vflow
        view="auto"
        [nodes]="nodes"
        [edges]="edges"
        [connection]="{ curve: 'smooth-step' }"
        (onNodesChange.position)="handlePositionChange($event)"
        [background]="{ backgroundColor: 'var(--p-background)', type: 'dots' }"
        [snapGrid]="[25, 25]"
      >
        <ng-template let-ctx nodeHtml style="width: fit-content">
          <app-statement-delegator [statement]="ctx.node.data()">
          </app-statement-delegator>
        </ng-template>
        <mini-map [position]="'top-right'" />
      </vflow>
      <!-- Spawn for examples -->
      <ng-template #examplesSpawn></ng-template>
    </div>
    <app-editor-sidemenu
      style="height: auto; position: relative; justify-self: right"
    ></app-editor-sidemenu>
  </div>
  <div class="bottomContainer">
    <mat-tab-group
      animationDuration="0"
      mat-stretch-tabs="false"
      mat-align-tabs="end"
    >
      <mat-tab class="tabContent">
        <ng-template mat-tab-label>
          <mat-icon>terminal</mat-icon>
        </ng-template>
        <app-console class="tabContent"></app-console>
      </mat-tab>
      <mat-tab class="tabContent">
        <ng-template mat-tab-label>
          <mat-icon>psychology_alt</mat-icon>
        </ng-template>
        <app-ai-chat class="tabContent"></app-ai-chat>
      </mat-tab>
      <mat-tab #minimize>
        <ng-template mat-tab-label>
          <mat-icon>keyboard_arrow_down</mat-icon>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
