\predicates {
    appears(int[], int, int, int);
}

\rules {
    appears {
        \schemaVar \term int[] A;
        \schemaVar \term int x;
        \schemaVar \term int start;
        \schemaVar \term int end;
        \schemaVar \variable int q;
        \find (appears(A, x, start, end))
        \varcond (\notFreeIn(q,A), \notFreeIn(q,x), \notFreeIn(q,start), \notFreeIn(q,end))
        \replacewith (\exists int q; (q >= start & q < end & A[q]=x))
        \heuristics(simplify)
    };
}
